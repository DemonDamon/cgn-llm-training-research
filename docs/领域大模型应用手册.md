# 领域大模型应用手册

---

**版本**: 1.0  
**日期**: 2025-12-02  

---

## 1. 引言

### 1.1. 手册目的

欢迎使用CGN领域大模型！本手册旨在帮助应用开发者、产品经理和业务人员快速理解模型的能力、掌握与模型交互的最佳实践（即**提示工程，Prompt Engineering**），并探索创新的应用场景，从而将大模型的强大能力转化为实际的业务价值。

### 1.2. 读者对象

- **应用开发者**：希望将大模型API集成到应用程序中的工程师。
- **产品经理**：希望基于大模型设计创新产品和功能的产品负责人。
- **业务专家**：希望利用大模型提升工作效率的领域专家。

## 2. 模型能力总览

CGN领域大模型具备以下核心能力，开发者可以根据应用需求，灵活组合和调用这些能力。

| 能力类别 | 具体能力 | 典型应用场景 |
|---|---|---|
| **知识理解与问答** | - **专业知识问答**：回答核电、新能源等领域的专业问题。
| | - **文档理解**：阅读并理解长篇技术文档、报告、规程。
| | - **多轮对话**：在连续的对话中，理解上下文并进行有逻辑的交流。 | - 智能客服、虚拟专家、技术支持助手
| | - 智能文档检索与分析 |
| **内容生成与创作** | - **报告与文案生成**：根据要求自动生成巡检报告、工作总结、新闻稿等。
| | - **代码生成与解释**：根据自然语言描述生成特定功能的代码（如Python, SQL），并解释代码逻辑。
| | - **数据扩充**：生成高质量的指令微调数据、模拟对话数据等。 | - 自动化报告系统、智能编程助手
| | - 辅助数据标注 |
| **逻辑推理与分析** | - **故障诊断与分析**：根据设备告警信息和历史数据，分析故障原因并提供解决方案建议。
| | - **决策支持**：分析复杂的业务场景，评估不同方案的优劣，提供决策参考。
| | - **安全规程校验**：检查操作步骤是否符合安全规程要求。 | - 智能运维助手、智能决策支持系统
| | - 安全生产监控 |
| **工具使用与智能体** | - **API调用**：能够理解并调用外部API，以获取实时信息或执行特定操作。
| | - **数据库查询**：能够将自然语言转换为SQL语句，查询数据库。
| | - **多工具协同**：能够规划并协同使用多个工具来完成复杂任务。 | - 智能调度系统、自动化业务流程（RPA）
| | - 领域智能体（Agent） |

## 3. 核心：提示工程 (Prompt Engineering)

提示（Prompt）是与大模型交互的语言。**提示的质量直接决定了模型输出的质量。** 一个好的提示应该像一个优秀的任务委托人，清晰、具体、信息充分。

### 3.1. 优秀提示的六大要素 (CRISPE框架)

| 要素 | 描述 | 示例 |
|---|---|---|
| **C (Context) - 上下文** | 提供与任务相关的背景信息，帮助模型更好地理解问题。 | **（差）**：“总结一下。”
| | | **（好）**：“你是一名核电站的安全工程师，请根据这份《2025年第三季度核反应堆压力容器巡检报告》，总结其中发现的主要问题。” |
| **R (Role) - 角色** | 为模型设定一个角色，使其输出的风格、口吻和专业程度更符合预期。 | “你是一位资深的Python程序员...”、“你是一位面向客户的客服代表...” |
| **I (Instruction) - 指令** | 清晰、明确地告诉模型需要执行的具体任务是什么。 | “请将以下文本翻译成英文”、“请从这段描述中提取关键信息”、“请生成一个...的Python函数” |
| **S (Source) - 来源/示例** | 如果有，提供输入数据或一个示例（Few-shot），引导模型生成符合格式和风格的输出。 | “根据以下文本：[在此处粘贴文本]，请回答...”
| | | “示例：
| | | 输入：苹果
| | | 输出：一种水果
| | | 输入：白菜
| | | 输出：” |
| **P (Persona) - 个性/风格** | 指定模型输出的语气、风格或格式。 | “请用通俗易懂的语言解释”、“请以专业的、学术的口吻回答”、“请以Markdown表格的形式输出” |
| **E (Evaluation) - 评估/约束** | 告知模型评估其输出的标准，或添加一些约束条件。 | “你的回答应简洁明了，不超过200字”、“请确保你的代码包含详细的注释”、“生成的报告必须包含风险等级评估” |

### 3.2. 高级提示技巧

- **思维链 (Chain-of-Thought, CoT)**：
  - **技巧**：在提示中加入“让我们一步一步地思考”，引导模型在回答复杂问题前，先进行逻辑推理和步骤分解。
  - **适用场景**：数学计算、逻辑推理、复杂分析任务。
  - **示例**：“问题：... 让我们一步一步地思考，从而得出最终答案。”

- **生成知识提示 (Generated Knowledge Prompting)**：
  - **技巧**：在回答问题前，先让模型生成与问题相关的背景知识，然后再基于这些知识进行回答。
  - **适用场景**：需要广泛背景知识才能准确回答的问题。
  - **示例**：“在回答‘为什么核聚变比核裂变更难实现’之前，请先生成一段关于核聚变和核裂变基本原理的介绍。”

- **自我修正 (Self-Correction)**：
  - **技巧**：让模型对自己的初步答案进行反思和修正。可以采用多轮对话的方式，对模型的初步答案提出质疑，引导其进行改进。
  - **适用场景**：需要高度准确性和严谨性的任务，如代码生成、报告撰写。

## 4. 应用开发指南

### 4.1. API调用

- **认证**：使用分配的API Key进行身份认证。
- **核心参数**：
  - `model`: 指定要调用的模型版本。
  - `messages`: 对话历史，一个由`{"role": "user/assistant", "content": "..."}`组成的列表。
  - `temperature`: 控制输出的随机性。值越高（如0.8）输出越有创意，值越低（如0.2）输出越确定、保守。建议在需要精确、事实性回答时使用较低的值。
  - `max_tokens`: 控制生成内容的最大长度。
  - `stream`: 是否以流式方式返回结果，适用于实时交互场景。

### 4.2. 典型应用模式

- **RAG (Retrieval-Augmented Generation)**：
  - **模式**：当用户提问时，首先从外部知识库（如技术文档库、数据库）中检索最相关的文档片段，然后将这些片段作为上下文，连同用户的问题一起提交给大模型，让模型基于给定的上下文进行回答。
  - **优点**：有效解决大模型知识更新不及时、容易产生“幻觉”的问题，并能提供答案的溯源依据。
  - **是构建企业级知识问答系统的**首选和最重要**的模式。**

- **智能体 (Agent)**：
  - **模式**：将大模型作为“大脑”，赋予其使用工具（如计算器、API、数据库）的能力。模型能够根据用户意图，自主规划步骤、选择并调用工具，最终完成复杂任务。
  - **实现**：基于ReAct (Reason + Act)等框架，构建智能体应用。

## 5. 安全与合规

- **输入过滤**：在将用户输入提交给模型前，进行安全检查，过滤掉恶意、不当或敏感内容。
- **输出审核**：对模型的输出进行审核，防止生成有害、不实或违反安全规定的内容。
- **数据隐私**：在与模型交互时，避免在提示中直接包含未脱敏的个人信息或公司核心机密。

## 6. 附录：优秀提示案例库

（本部分将持续更新，收集和展示在实际业务中被证明行之有效的优秀提示案例）

### 案例1：缺陷报告分析

**Prompt**:
```
你是一名经验丰富的核电站设备维护工程师 (Role)。

请根据以下这份设备缺陷报告 (Context & Source)，完成以下任务 (Instruction)：
1.  提取报告中的关键信息，并以Markdown表格形式展示 (Persona)。关键信息应包括：报告编号、报告日期、涉及设备、问题描述、初步原因分析。
2.  根据问题描述，评估该缺陷的潜在风险等级（高、中、低），并说明评估依据 (Evaluation)。
3.  提供至少两条处理该缺陷的初步建议 (Instruction)。

**缺陷报告内容**：
"报告编号：DEF-2025-1024。日期：2025年12月1日。报告人：张三。设备：2号发电机组冷却水泵 (P-201B)。问题描述：水泵出口压力低于正常阈值20%，伴有异常振动和噪音。初步原因分析：怀疑是叶轮磨损或轴承故障导致。"
```
